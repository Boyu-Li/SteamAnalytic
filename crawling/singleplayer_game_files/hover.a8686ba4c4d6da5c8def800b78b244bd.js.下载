!function(){if(window.SteamDB.BindHover=()=>{},"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return;if(!("Popper"in window))return;const usesDataTable="function"==typeof $&&"object"==typeof $.fn&&"function"==typeof $.fn.dataTable,container=document.getElementById("js-hover");let apps=usesDataTable?[]:document.querySelectorAll(".app"),debounce=null,request=null,lastDisplayed=null;const popperSettings={placement:"left-start",eventsEnabled:!1,arrow:{enabled:!1},modifiers:{preventOverflow:{boundariesElement:"viewport"}}};function BindEvents(apps){for(let i=0;i<apps.length;i++)apps[i].addEventListener("mouseenter",OnEnter,{passive:!0}),apps[i].addEventListener("mouseleave",OnLeave,{passive:!0})}function OnEnter(e){const target=e.toElement||e.target,appid=target.dataset.appid;let existingHover=container.querySelector("#js-hover-app-"+appid);if(existingHover)return ShowHover(existingHover,target);debounce=setTimeout((function(){(request=new XMLHttpRequest).addEventListener("load",(function(){if(4===this.readyState&&200===this.status){if(container.insertAdjacentHTML("beforeend",this.response),existingHover=container.querySelector("#js-hover-app-"+appid))return ShowHover(existingHover,target);alert("Failed to load app hover for appid"+appid+". Report this please.")}})),request.open("GET","/api/RenderAppHover/?appid="+appid),request.send()}),100)}function OnLeave(e){container.contains(e.toElement||e.relatedTarget)||(debounce&&(clearTimeout(debounce),debounce=null),request&&(request.abort(),request=null),lastDisplayed&&(container.style.display="none",lastDisplayed.style.display="none",lastDisplayed=null))}function ShowHover(element,target){lastDisplayed=element,container.style.display="block",element.style.display="block",new Popper(target,container,popperSettings)}document.querySelector(".page-sales")&&(popperSettings.placement="right-start",popperSettings.modifiers.inner={enabled:!0}),usesDataTable&&$($.fn.dataTable.tables()).each((function(){const element=$(this).DataTable().table();apps=element.rows(".app").nodes().reduce((function(coll,item){return coll.push(item),coll}),apps)})),BindEvents(apps),container.addEventListener("mouseleave",OnLeave,{passive:!0}),window.SteamDB.BindHover=BindEvents}();